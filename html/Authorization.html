<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <title>R00T52</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel='stylesheet' type='text/css' media='screen' href='css/style.css'>
    <link href="css/style1.css" rel="stylesheet">
    <link href="css/color/default.css" id="theme"  rel="stylesheet">
    <script src='eel.js'></script>
</head>
<body>
    
    <div class="login-box">
        <h2>Authorization</h2>
        <form>
          <div class="user-box">
            <input type="text" id="login" name="" required="">
            <label>Login</label>
          </div>
          <div class="user-box">
            <input type="password" id="password" name="" required="">
            <label>Password</label>
          </div>
          <p id="error"></p>
          <div class="text-box" onClick='location.href="Registration.html"'>
              <label>Registration</label>
          </div><center>
          <a href="#" id="btn">
            Log in
          </a></center>
        </form>
      </div>

    <script>
        let btn = document.querySelector("#btn");
        btn.addEventListener("click", sendData);

        async function sendData() {
            let login = document.querySelector("#login").value;
            let password = document.querySelector("#password").value;
            await eel.recv_data(login, password)(function testNum(a) {
                let result;
                if (a == 0) {
                    var p;
                    p = document.getElementById('error');
                    p.innerHTML = 'The data in the Login or Password field is incorrect or there is no such user!';
                } else {
                    p = document.getElementById('error');
                    p.innerHTML = '';
                }
            })
        }

        eel.expose(open_main);
        function open_main() {
            var meni_1 = 'Index.html';
            location.href = meni_1;
        }
    </script>

</body>
</html>